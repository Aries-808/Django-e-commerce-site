{% extends 'base.html' %}


{% load static %}
{% block links %}
    <script src="https://kit.fontawesome.com/f17774750a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/master_index.css' %}">
    <link rel="stylesheet" href="{% static 'css/cart.css' %}">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
{% endblock links %}

{% block content %}
  {% load cart %}
  {% load custom_filter %}
  <div class="container-fluid" style="min-height:60vh;">
      <div class="container mt-5">
  <table id="cart" class="table table-hover table-condensed">
    <caption>Your Orders</caption>
    <thead>
      <tr>
        <th scope="col">Sno.</th>
        <th scope="col">Details</th>
        <th scope="col">Date</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total</th>
        <th scope="col">Status</th>
      </tr>
    </thead>
    <tbody>
      {% for order in orders %}
      <tr>
        <td data-th="Sno.">{{ forloop.counter }}</td>
        <td data-th="Details">
          <div class="row">
            <div class="col-sm-2 hidden-xs">
              <img src="{{ order.product.image.url }}" alt="Product Image" style="height: 50px; width: 50px;" />
            </div>
            <div class="col-sm-10">
              <h4 class="nomargin">{{ order.product.name }}</h4>
            </div>
          </div>
        </td>
        <td data-th="Date">{{ order.date }}</td>
        <td data-th="Price">{{ order.price|currency }}</td>
        <td data-th="Quantity">{{ order.quantity }}</td>
        <td data-th="Total">{{ order.quantity|multiply:order.price|currency }}</td>
        <td data-th="Status">
          {% if order.status %}
          <span class="badge badge-success">Completed</span>
          {% else %}
          <span class="badge badge-warning">Pending</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
  </div>

{% endblock %}
